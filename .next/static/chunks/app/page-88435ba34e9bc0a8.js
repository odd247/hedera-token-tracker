(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2037:function(e,n,t){Promise.resolve().then(t.bind(t,103))},103:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var o=t(7437),a=t(2265),r=t(4829);function l(e){return(e=e.trim().toLowerCase()).includes(".")?e:/^\d+$/.test(e)?"0.0.".concat(e):e}async function s(e){try{let n=l(e),t="https://mainnet-public.mirrornode.hedera.com/api/v1/tokens/".concat(n);console.log("Fetching from:",t);let o=await r.Z.get(t);return{name:o.data.name,symbol:o.data.symbol,decimals:Number(o.data.decimals),total_supply:o.data.total_supply}}catch(e){var n;throw console.error("Error fetching token info:",(null===(n=e.response)||void 0===n?void 0:n.data)||e.message),e}}async function c(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;try{let t=l(e),o="https://mainnet-public.mirrornode.hedera.com/api/v1/tokens/".concat(t,"/balances?limit=").concat(n,"&order=desc");console.log("Fetching from:",o);let a=await r.Z.get(o),s=a.data.balances.map(e=>({account:e.account,balance:e.balance,percentage:function(e,n){let t=BigInt(e),o=BigInt(n);return o===BigInt(0)?0:Number(t*BigInt(1e4)/o/BigInt(100))}(e.balance,a.data.total_supply)}));return{holders:s,stats:{totalAccounts:a.data.balances.length.toString(),accountsAboveOne:s.filter(e=>Number(e.balance)>1).length}}}catch(e){var t;throw console.error("Error fetching token holders:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),e}}function i(){let[e,n]=(0,a.useState)(""),[t,r]=(0,a.useState)({holders:[],info:null,error:null,loading:!1}),l=async()=>{if(!e.trim()){r(e=>({...e,error:"Please enter a token ID"}));return}r(e=>({...e,loading:!0,error:null}));try{console.log("Fetching token info for:",e);let n=await s(e);console.log("Received token info:",n),r(e=>({...e,info:{name:n.name,symbol:n.symbol,total_supply:n.total_supply,decimals:n.decimals}})),console.log("Fetching token holders...");let t=await c(e);console.log("Received token holders:",t.holders.length),r(e=>({...e,holders:t.holders,loading:!1}))}catch(e){var n;console.error("Error in handleSearch:",(null===(n=e.response)||void 0===n?void 0:n.data)||e),r(n=>{var t,o;return{...n,error:(null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.error)||"Error fetching token data. Please check the token ID and try again.",loading:!1}})}},i=(e,n)=>{let t=BigInt(e),o=BigInt(10**n),a=(t%o).toString().padStart(n,"0");a=a.replace(/0+$/,"");let r=(t/o).toLocaleString();return a?"".concat(r,".").concat(a):r};return(0,o.jsx)("main",{className:"min-h-screen p-8",children:(0,o.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Hedera Token Tracker"}),(0,o.jsxs)("div",{className:"flex gap-4 mb-8",children:[(0,o.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key&&l()},placeholder:"Enter token ID (e.g., 0.0.1234)",className:"flex-1 p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,o.jsx)("button",{onClick:l,disabled:t.loading,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-blue-300 disabled:cursor-not-allowed transition-colors duration-200",children:t.loading?"Loading...":"Search"})]}),t.error&&(0,o.jsx)("div",{className:"text-red-500 mb-4",children:t.error}),t.info&&(0,o.jsxs)("div",{className:"mb-8 p-4 bg-gray-100 rounded",children:[(0,o.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Token Information"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Name:"})," ",t.info.name]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Symbol:"})," ",t.info.symbol]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Total Supply:"})," ",i(t.info.total_supply,t.info.decimals)]})]}),t.holders.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Top Token Holders"}),(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"min-w-full bg-white",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"bg-gray-100",children:[(0,o.jsx)("th",{className:"p-2 text-left",children:"Account"}),(0,o.jsx)("th",{className:"p-2 text-right",children:"Balance"}),(0,o.jsx)("th",{className:"p-2 text-right",children:"Percentage"})]})}),(0,o.jsx)("tbody",{children:t.holders.map((e,n)=>(0,o.jsxs)("tr",{className:n%2==0?"bg-gray-50":"",children:[(0,o.jsx)("td",{className:"p-2",children:e.account}),(0,o.jsx)("td",{className:"p-2 text-right font-mono",children:t.info?i(e.balance,t.info.decimals):e.balance}),(0,o.jsxs)("td",{className:"p-2 text-right",children:[e.percentage.toFixed(4),"%"]})]},e.account))})]})})]})]})})}}},function(e){e.O(0,[737,971,938,744],function(){return e(e.s=2037)}),_N_E=e.O()}]);