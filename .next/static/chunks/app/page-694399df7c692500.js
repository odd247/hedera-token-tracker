(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2037:function(e,o,t){Promise.resolve().then(t.bind(t,103))},103:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return i}});var l=t(7437),n=t(2265),r=t(4829);function a(e){return(e=e.trim().toLowerCase()).includes(".")?e:/^\d+$/.test(e)?"0.0.".concat(e):e}async function c(e){try{let o=a(e),t="https://mainnet-public.mirrornode.hedera.com/api/v1/tokens/".concat(o);console.log("%c[API Call] Fetching token info from:","color: #4CAF50; font-weight: bold;",t);let l=await r.Z.get(t);console.log("%c[Token Info] Response:","color: #4CAF50; font-weight: bold;",l.data);let n=Number(l.data.decimals),c=Number(l.data.total_supply)/Math.pow(10,n);return{name:l.data.name,symbol:l.data.symbol,decimals:n,total_supply:c.toString()}}catch(e){var o;throw console.error("%c[Error] Failed to fetch token info:","color: #f44336; font-weight: bold;",(null===(o=e.response)||void 0===o?void 0:o.data)||e.message),e}}async function s(e){var o,t;try{console.log("%c[Token Holders] Starting fetch...","color: #2196F3; font-weight: bold;");let t=a(e),l="https://mainnet-public.mirrornode.hedera.com/api/v1/tokens/".concat(t,"/balances");console.log("%c[API Call] Fetching token holders from:","color: #2196F3; font-weight: bold;",l);let n=[],s=!0;for(;s;){console.log("%c[API Call] Fetching page:","color: #2196F3; font-weight: bold;",l);let e=await r.Z.get(l);if(!e.data||!Array.isArray(e.data.balances))throw console.error("%c[Error] Invalid response format:","color: #f44336; font-weight: bold;",e.data),Error("Invalid response format from Hedera API");n=[...n,...e.data.balances],console.log("%c[API Response] Got balances:","color: #2196F3; font-weight: bold;",e.data.balances.length),(null===(o=e.data.links)||void 0===o?void 0:o.next)?l="https://mainnet-public.mirrornode.hedera.com".concat(e.data.links.next):s=!1}console.log("%c[API Response] Total balances:","color: #2196F3; font-weight: bold;",n.length);let i="0";try{i=(await c(e)).total_supply,console.log("%c[Total Supply]","color: #2196F3; font-weight: bold;",i)}catch(e){console.error("%c[Error] Failed to fetch total supply:","color: #f44336; font-weight: bold;",e),i="0"}console.log("%c[Processing] Filtering balances...","color: #2196F3; font-weight: bold;");let d=n.filter(e=>{let o=e&&"string"==typeof e.account&&("string"==typeof e.balance||"number"==typeof e.balance)&&"number"==typeof e.decimals;return o||console.log("%c[Invalid Balance]","color: #FFC107; font-weight: bold;",{balance:e,isValidAccount:"string"==typeof e.account,isValidBalance:"string"==typeof e.balance||"number"==typeof e.balance,isValidDecimals:"number"==typeof e.decimals}),o});console.log("%c[Valid Balances] Count:","color: #2196F3; font-weight: bold;",d.length),console.log("%c[Processing] Calculating percentages...","color: #2196F3; font-weight: bold;");let p=d.map(e=>{let o=Number(e.balance)/Math.pow(10,e.decimals),t=o.toString(),l=Number(i);return{account:e.account,balance:t,percentage:l>0?100*o/l:0}}).filter(e=>Number(e.balance)>=1).sort((e,o)=>Number(o.balance)-Number(e.balance)).slice(0,50);console.log("%c[Final Holders] Count:","color: #2196F3; font-weight: bold;",p.length),p.forEach(e=>{console.log("%c[Holder]","color: #2196F3;",{account:e.account,balance:e.balance,percentage:e.percentage+"%"})});let h={holders:p,stats:{totalAccounts:d.length.toString(),accountsAboveOne:p.length}};return console.log("%c[Final Result]","color: #4CAF50; font-weight: bold;",h),h}catch(e){throw console.error("%c[Error] Failed to fetch token holders:","color: #f44336; font-weight: bold;",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),e}}function i(){let[e,o]=(0,n.useState)(""),[t,r]=(0,n.useState)({holders:[],info:null,error:null,loading:!1}),a=async()=>{if(!e.trim()){r(e=>({...e,error:"Please enter a token ID"}));return}r(e=>({...e,loading:!0,error:null}));try{console.log("Fetching token info for:",e);let o=await c(e);console.log("Received token info:",o),r(e=>({...e,info:{name:o.name,symbol:o.symbol,total_supply:o.total_supply,decimals:o.decimals}})),console.log("Fetching token holders...");let t=await s(e);console.log("Received token holders:",t.holders.length),r(e=>({...e,holders:t.holders,loading:!1}))}catch(e){var o;console.error("Error in handleSearch:",(null===(o=e.response)||void 0===o?void 0:o.data)||e),r(o=>{var t,l;return{...o,error:(null===(l=e.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.error)||"Error fetching token data. Please check the token ID and try again.",loading:!1}})}};return(0,l.jsx)("main",{className:"min-h-screen p-8",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto p-8 font-mono",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-12 text-center bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 text-transparent bg-clip-text",children:"Hedera Token Tracker"}),(0,l.jsxs)("div",{className:"flex gap-4 mb-12",children:[(0,l.jsx)("input",{type:"text",value:e,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&a()},placeholder:"Enter token ID (e.g., 0.0.1234)",className:"flex-1 p-3 text-lg border-2 border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/90 backdrop-blur"}),(0,l.jsx)("button",{onClick:a,disabled:t.loading,className:"px-8 py-3 rounded-lg text-lg font-bold text-white shadow-lg transform transition-all duration-200 ".concat(t.loading?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-pink-500 hover:scale-105 hover:shadow-xl active:scale-95"),children:t.loading?"⚡️ Searching...":"\uD83D\uDD0D Search"})]}),t.loading&&(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"inline-block animate-bounce bg-gradient-to-r from-purple-500 to-pink-500 rounded-full p-2 mb-4",children:(0,l.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC38"})}),(0,l.jsx)("p",{className:"text-xl font-bold mb-4 bg-gradient-to-r from-purple-500 to-pink-500 text-transparent bg-clip-text",children:"Keep your shirt on, I'm sorting through a lot of information..."}),(0,l.jsx)("p",{className:"text-gray-500",children:"Fetching token data and analyzing holder distribution"})]}),t.error&&(0,l.jsxs)("div",{className:"border-2 border-red-300 bg-red-50 text-red-700 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[(0,l.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,l.jsx)("span",{className:"block sm:inline",children:t.error})]}),t.info&&!t.loading&&(0,l.jsxs)("div",{className:"bg-white/90 backdrop-blur border-2 border-purple-200 rounded-lg p-8 mb-12 shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-3xl font-bold mb-6 bg-gradient-to-r from-purple-500 to-pink-500 text-transparent bg-clip-text",children:[t.info.name," (",t.info.symbol,")"]}),(0,l.jsxs)("div",{className:"border-2 border-purple-100 rounded-lg p-6",children:[(0,l.jsx)("p",{className:"text-purple-600 font-bold mb-2",children:"Total Supply"}),(0,l.jsx)("p",{className:"text-3xl font-bold",children:Number(t.info.total_supply).toLocaleString()})]})]}),t.holders.length>0&&!t.loading&&(0,l.jsx)("div",{className:"bg-white/90 backdrop-blur border-2 border-purple-200 rounded-lg overflow-hidden shadow-lg",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gradient-to-r from-purple-500 to-pink-500",children:[(0,l.jsx)("th",{className:"w-24 px-6 py-4 text-left text-white font-bold",children:"Rank"}),(0,l.jsx)("th",{className:"px-6 py-4 text-left text-white font-bold",children:"Account"}),(0,l.jsx)("th",{className:"w-48 px-6 py-4 text-right text-white font-bold",children:"Balance"}),(0,l.jsx)("th",{className:"w-32 px-6 py-4 text-right text-white font-bold",children:"Share"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-purple-100",children:t.holders.map((e,o)=>(0,l.jsxs)("tr",{className:"hover:bg-purple-50 transition-colors duration-150",children:[(0,l.jsx)("td",{className:"w-24 px-6 py-4",children:(0,l.jsxs)("div",{className:"w-12 h-12 flex items-center justify-center bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-lg shadow-md",children:["#",o+1]})}),(0,l.jsx)("td",{className:"px-6 py-4 font-mono text-base truncate max-w-0",children:e.account}),(0,l.jsx)("td",{className:"w-48 px-6 py-4 text-right font-bold text-purple-600 whitespace-nowrap",children:Number(e.balance).toLocaleString()}),(0,l.jsxs)("td",{className:"w-32 px-6 py-4 text-right font-bold text-pink-500 whitespace-nowrap",children:[e.percentage.toFixed(2),"%"]})]},e.account))})]})})]})})}}},function(e){e.O(0,[737,971,938,744],function(){return e(e.s=2037)}),_N_E=e.O()}]);